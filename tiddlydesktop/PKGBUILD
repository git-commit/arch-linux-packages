# Maintainer: Maximilian Berger <snowdragon92[at]gmail[dotcom]>
pkgname=tiddlydesktop
pkgver=0.0.3
pkgrel=4
pkgdesc="TiddlyDesktop is a special purpose web browser for working with locally stored TiddlyWikis."
url="https://github.com/Jermolene/TiddlyDesktop"
license=('unknown')
provides=('tiddlydesktop')
depends=('libudev.so.0')
optdepends=('tiddlywiki: empty tiddlywiki file and utility script')

arch=('x86_64' 'i686')
_pkgarch=64
_shasum='d80e00752554dcb30471a24e86e5d9e149708440aa3ad75674e8585f003d8d65'
if [ "$CARCH" = "i686" ]; then
	_pkgarch=32
	_shasum='bb511daea0e6165902a2f2eb624682369deec78c2d8df8baf6064bb0cbde5349'
fi

source=(https://github.com/Jermolene/TiddlyDesktop/releases/download/v0.0.3/tiddlydesktop-linux$_pkgarch-0.0.3.zip
		tiddlydesktop.sh
		tiddlydesktop.desktop)

sha256sums=($_shasum
            'ec5826348934f45ba28209f00a96073876910aec3bc1bc5e7c6cc68216099998'
            '58481ee296f39ac95760fffc947bf36c3ccbea73bdcde7d224102109e90cd0de')

package() {
	cd "$srcdir"
	install -d "${pkgdir}/usr/share/${pkgname}"

	cp -r . "${pkgdir}/usr/share/$pkgname"
	chmod -R 775 "${pkgdir}/usr/share/$pkgname"

  	install -Dm755 "tiddlydesktop.sh" 					"${pkgdir}/usr/bin/$pkgname"

    install -Dm644 "${srcdir}/tiddlydesktop.desktop" 	"${pkgdir}/usr/share/applications/tiddlydesktop.desktop"
  	install -Dm644 "${srcdir}/images/Motovun Jack.svg" 	"${pkgdir}/usr/share/pixmaps/tiddlydesktop.svg"
}
